---
import { type CollectionEntry, getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import RfdPreview from "@components/RFDPreview.astro";
import { RFDS } from "@consts";
import Label from "@components/Label.astro";

const rfds = (await getCollection("rfd"))
  .sort((a, b) => b.data.updatedAt.valueOf() - a.data.updatedAt.valueOf());
---

<Layout title={RFDS.TITLE} description={RFDS.DESCRIPTION}>
  <Container>
    <div class="flex justify-center py-16 max-w-1200">
      <h1 class="text-3xl">Requests for Discussion</h1>
    </div>

    <aside data-pagefind-ignore>
        <ul class="not-prose flex flex-col gap-2">
          <li>
            <div class="grid grid-cols-6 grow items-baseline group relative px-4 py-2 pr-10 text-xs font-mono uppercase rounded-md border bg-neutral-700/10 text-neutral-400 border-neutral-600/20">
              <div class="col-span-3">Number / Title</div>
              <div>State</div>
              <div class="col-span-2">Labels</div>
            </div>
          </li>
          {rfds.map((rfd) => (
            <li>
              <RfdPreview entry={rfd} />
            </li>
          ))}
        </ul>
    </aside>
  </Container>
</Layout>
